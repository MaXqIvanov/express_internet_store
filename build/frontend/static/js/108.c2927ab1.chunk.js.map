{"version":3,"file":"static/js/108.c2927ab1.chunk.js","mappings":"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","sources":["pages/adminPanel/AdminPage.tsx","webpack://client/./src/scss/admin.module.scss?3fd2"],"sourcesContent":["\r\nimport React, { Suspense, useEffect, useState } from 'react'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport s from '../../scss/admin.module.scss'\r\nimport {useForm} from 'react-hook-form'\r\nimport Form from 'react-bootstrap/esm/Form'\r\nimport { Button, Spinner } from 'react-bootstrap'\r\nimport { AdminAddProods, AdminGetProods } from '../../api/api'\r\nimport { useDispatch } from 'react-redux'\r\nconst AdminPaneldelete = React.lazy(()=> import('./AdminPaneldelete'))\r\n\r\nexport const AdminPage = () => {\r\n    const dispatch = useDispatch()\r\n    const [variant, setVariant] = useState<number>(0)\r\n    const { \r\n        register,\r\n        formState: {\r\n        errors\r\n        },\r\n        handleSubmit,\r\n    } = useForm({mode: \"onBlur\"});\r\n    const nav = useNavigate()\r\n    const [data, setData]  = useState<any>({message:\"Вы не авторизованы на сайте\"})\r\n    useEffect(() => {\r\n        let auth:any = ((localStorage.getItem('auth') != null ) ? JSON.parse(String(localStorage.getItem('auth'))) : \"\")\r\n        AdminGetProods(auth, setData, dispatch)\r\n    }, [])\r\n  \r\n    const onSubmit = (data:any)=>{\r\n        let auth:any = ((localStorage.getItem('auth') != null ) ? JSON.parse(String(localStorage.getItem('auth'))) : \"\")\r\n        let password = prompt(\"Введите ваш пароль\", \"\")\r\n        console.log(password);\r\n        AdminAddProods(data, auth, password)    \r\n    }\r\n    const navCount = (elem:any)=>{\r\n        if((variant < 5 || elem==\"-1\") && (variant >0 || elem==\"1\" )){\r\n            setVariant(variant + elem)\r\n        }  \r\n    }\r\n    \r\n    \r\n  return (\r\n      <>\r\n    {\r\n       data.message? <div  className={s.main}><h3 title='Авторизоваться на сайте' onClick={()=>nav('/auth')}>{data.message}</h3></div>\r\n\r\n\r\n       : <div className={s.main}>\r\n           {variant==0 ? \r\n           <div className={s.crap}>\r\n               <h4>Добавить новый товар</h4>\r\n               <Form className={s.Form} onSubmit={handleSubmit(onSubmit)}>\r\n               <Form.Group className=\"mb-3\" controlId=\"exampleForm.ControlInput1\">\r\n                    <Form.Label>Наименования товара: </Form.Label>\r\n                    <Form.Control {...register('nameProods',{\r\n                         required:\"Укажите наименования товара\"\r\n                    })} type=\"text\"/>\r\n                </Form.Group>\r\n                <Form.Group className=\"mb-3\" controlId=\"exampleForm.ControlInput1\">\r\n                    <Form.Label>Описание товара: </Form.Label>\r\n                    <Form.Control {...register('descriptionType',{\r\n                         required:\"Укажите описание товара\"\r\n                    })} type=\"text\"/>\r\n                </Form.Group>\r\n                <Form.Group className=\"mb-3\" controlId=\"exampleForm.ControlInput1\">\r\n                    <Form.Label>Цена товара: </Form.Label>\r\n                    <Form.Control {...register('priceProods',{\r\n                         required:\"поле с ценой обязательно для заполнения\"\r\n                    })} type=\"text\"/>\r\n                </Form.Group>\r\n                <Form.Group className=\"mb-3\" controlId=\"exampleForm.ControlInput1\">\r\n                    <Form.Label>Ссылка на изображение: </Form.Label>\r\n                    <Form.Control {...register('linkOnImage',{\r\n                         required:\"Укажите url изображения\"\r\n                    })} type=\"text\"/>\r\n                </Form.Group>\r\n                <Form.Select  {...register('typeProods',{\r\n                    required:\"Укажите тип товара\"\r\n                })} aria-label=\"Выберите тип товара\">\r\n                    <option disabled={true}>Выберите тип товара</option>\r\n                    <option value=\"phone\">Телефон</option>\r\n                    <option value=\"laptope\">Ноутбук</option>\r\n                </Form.Select>\r\n                <div style={{color:\"red\"}}>{errors.priceProods ?  <span className={s.span}>{errors?.priceProods?.message && errors.priceProods.message}</span>\r\n                 : errors.linkOnImage ? <span className={s.span}>{errors?.linkOnImage?.message && errors.linkOnImage.message}</span> \r\n                 : errors.nameProods ? <span className={s.span}>{errors?.nameProods?.message && errors.nameProods.message}</span>: ''} </div>\r\n                <Button className='mt-1' type='submit'>Принять</Button>\r\n               </Form>\r\n                \r\n            </div>\r\n            : variant==1 ? <><Suspense fallback={<Spinner animation=\"grow\" />}><div className={s.crap}><AdminPaneldelete /></div></Suspense></> : <>раздел в разработке</>}\r\n        <div className={s.navButtons}>\r\n        <Button className={s.navLeft}  variant=\"outline-light\" onClick={()=>navCount(-1)}>{`${\"<\"}`}</Button>\r\n            <Button className={s.navRight}  variant=\"outline-light\" onClick={()=>navCount(1)}>{`${\">\"}`}</Button>\r\n        </div>\r\n        <div onClick={()=> nav('/')} className={s.NavHome}></div>\r\n       </div>\r\n    }\r\n\r\n        </>\r\n    )\r\n}\r\nexport default AdminPage\r\n","// extracted by mini-css-extract-plugin\nexport default {\"main\":\"admin_main__RWe3J\",\"crap\":\"admin_crap__X+HA3\",\"Form\":\"admin_Form__ggGLu\",\"span\":\"admin_span__q1D+s\",\"navButtons\":\"admin_navButtons__C4V7J\",\"navLeft\":\"admin_navLeft__97ABj\",\"navRight\":\"admin_navRight__XKknJ\",\"deleteArray\":\"admin_deleteArray__lhyPn\",\"allArray\":\"admin_allArray__nliAm\",\"formPage2\":\"admin_formPage2__P+ORX\",\"nameProodPage2\":\"admin_nameProodPage2__InsQc\",\"closeButton\":\"admin_closeButton__VfePc\",\"NavHome\":\"admin_NavHome__7113l\"};"],"names":["AdminPaneldelete","React","AdminPage","dispatch","useDispatch","useState","variant","setVariant","useForm","mode","register","errors","formState","handleSubmit","nav","useNavigate","message","data","setData","useEffect","auth","localStorage","getItem","JSON","parse","String","AdminGetProods","navCount","elem","className","s","title","onClick","onSubmit","password","prompt","console","log","AdminAddProods","controlId","required","type","disabled","value","style","color","priceProods","linkOnImage","nameProods","Suspense","fallback","animation"],"sourceRoot":""}